{"version":3,"sources":["components/SearchBar.js","components/Header.js","api/movieApi.js","components/MovieItem.js","components/MovieList.js","components/Home.js","components/MovieDetail.js","App.js","index.js"],"names":["SearchBar","props","_useState","useState","_useState2","Object","slicedToArray","value","setValue","react_default","a","createElement","className","onSubmit","e","preventDefault","onTermSubmit","onFormSubmit","type","style","backgroundColor","paddingTop","paddingBottom","onChange","target","Header","class","page","components_SearchBar","react_router_dom","to","API","PATH","get","_ref","path","_ref$subpath","subpath","_ref$params","params","req","concat","axios","then","response","res","status","Error","statusText","handleErrors","movieApi","getUpcomingMovies","getMovieCredits","id","config","getMovie","search","query","MovieItem","movie","onMovieSelect","src","posterPath","alt","title","rating","MovieList","movies","renderedList","map","components_MovieItem","key","mapData","results","mappedData","forEach","result","push","original_title","vote_average","poster_path","description","overview","releaseDate","release_date","sort","b","localeCompare","Home","state","_this","isAlreadyMounted","data","setState","catch","error","console","log","term","entries","length","err","message","this","src_components_Header","components_MovieList","React","Component","director","_ref$cast","cast","_ref$crew","crew","castArray","member","name","find","job","join","MovieDetail","getMovieAndCredits","prevProps","match","_this2","_this$state$movie","_this$state$cast","Date","getFullYear","App","react_router","exact","render","components_Home","src_components_MovieDetail","ReactDOM","StrictMode","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.a5efe064.chunk.js","sourcesContent":["import React, { useState } from 'react';\r\n\r\n\r\nconst SearchBar = props => {\r\n    const [value, setValue] = useState('');\r\n\r\n    const onChange = e => {\r\n        setValue(e.target.value);\r\n    }\r\n    const onFormSubmit = (e) => {\r\n        e.preventDefault();\r\n        props.onTermSubmit(value);\r\n    }\r\n    return (\r\n        <form className='ui form head SearchBar' onSubmit={e => { onFormSubmit(e) }}>\r\n            <div className='ui left icon input eight wide field '>\r\n                <i className=\"search icon\"></i>\r\n                <input className=\"inputField\"\r\n                    type='text'\r\n                    style={{ backgroundColor: '#DFDFDF', paddingTop: '5px', paddingBottom: '5px' }}\r\n                    value={value}\r\n                    onChange={onChange} />\r\n            </div>\r\n        </form>\r\n\r\n    )\r\n\r\n}\r\n\r\nexport default SearchBar;","import React from 'react';\r\nimport { Link } from 'react-router-dom'\r\nimport './Header.css';\r\nimport SearchBar from './SearchBar';\r\n\r\nconst Header = props => {\r\n        return ( \r\n            <div className=\"ui segment\">\r\n                <div class=\"ui menu\">\r\n                   {props.page === 'details' \r\n                   ? <div className=\"head\">Movie Details </div>\r\n                   :<SearchBar onTermSubmit={props.onTermSubmit} />} \r\n                    <div class=\"right item\">\r\n                        <div class=\"ui action\">\r\n                            <Link to=\"/\" className=\"btn btn-success\">\r\n                                <i className=\"home icon\"></i>\r\n                            </Link>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n\r\n}\r\n\r\nexport default Header;","import axios from 'axios';\r\n\r\nconst API = {\r\n    HOST: 'https://api.themoviedb.org/3',\r\n    KEY: 'd943bbaf84c7c4a0f898e82204e8ca4c'\r\n}\r\nconst PATH = {\r\n    UPCOMING: 'movie/upcoming',\r\n    SEARCH: 'search/movie',\r\n    MOVIE: 'movie'\r\n}\r\n\r\nconst handleErrors = (res) => {\r\n    if (res.status !== 200) {\r\n        throw Error(res.statusText);\r\n    }\r\nreturn res;\r\n    \r\n};\r\nconst get = ({ path, subpath = '', params = '' }) => {\r\n    const req = `${API.HOST}/${path}${subpath}?api_key=${API.KEY}${params}`;\r\n    return axios.get(req).then(response => handleErrors(response));\r\n};\r\nconst movieApi = {\r\n    getUpcomingMovies: () => {\r\n      const config = {\r\n        path: PATH.UPCOMING,\r\n      };\r\n  \r\n      return get(config);\r\n    },\r\n  \r\n    getMovieCredits: (id) => {\r\n      const config = {\r\n        path: PATH.MOVIE,\r\n        subpath: `/${id}/credits`,\r\n      };\r\n  \r\n      return get(config);\r\n    },\r\n  \r\n    getMovie: (id) => {\r\n      const config = {\r\n        path: PATH.MOVIE,\r\n        subpath: `/${id}`,\r\n      };\r\n  \r\n      return get(config);\r\n    },\r\n    search: (query) => {\r\n      const config = {\r\n        path: PATH.SEARCH,\r\n        params: `&query=${query}`,\r\n      };\r\n  \r\n      return get(config);\r\n    },\r\n  };\r\n  \r\n  export default movieApi;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst MovieItem = ({ movie, onMovieSelect }) => {\r\n    return (\r\n        <Link className=\"ui card\" to={`/details/${movie.id}`}>\r\n                <div className=\"image\">\r\n                    <img src={movie.posterPath} alt={movie.title} />\r\n                </div>\r\n                <div className=\"extra\">\r\n                    <span className=\"left-floated header\">{movie.title}</span>\r\n                    <span className=\"right floated\">{movie.rating}</span>\r\n                </div>\r\n            \r\n        </Link>\r\n    );\r\n}\r\n\r\nexport default MovieItem;","import React from 'react';\r\nimport MovieItem from './MovieItem';\r\n\r\n\r\nconst MovieList = ({ movies, onMovieSelect }) => {\r\n    const renderedList = movies.map(movie => <MovieItem key={movie.id} movie={movie} onMovieSelect={onMovieSelect} />);\r\n\r\n    return (\r\n        <div className=\"ui five cards\">\r\n            {renderedList}\r\n        </div>\r\n    );\r\n\r\n}\r\n\r\nexport default MovieList;\r\n\r\n\r\n","import React from 'react';\r\nimport Header from './Header';\r\n\r\nimport movieApi from '../api/movieApi';\r\nimport MovieList from './MovieList';\r\n\r\nconst mapData = results => {\r\n  const mappedData = [];\r\n  results.forEach(result => {\r\n    mappedData.push({\r\n      id: result.id,\r\n      title: result.original_title,\r\n      rating: result.vote_average,\r\n      posterPath: `http://image.tmdb.org/t/p/w185${result.poster_path}`,\r\n      description: result.overview ? result.overview : null,\r\n      releaseDate: result.release_date\r\n    })\r\n  });\r\n  return mappedData.sort((a, b) => {\r\n    return b.releaseDate.localeCompare(a.releaseDate);;\r\n  });\r\n}\r\n\r\nclass Home extends React.Component {\r\n  state = { movies: []};\r\n  componentDidMount() {\r\n    this.isAlreadyMounted = true;\r\n    this.getUpcomingMovies();\r\n  }\r\n  getUpcomingMovies = () => {\r\n    movieApi.getUpcomingMovies()\r\n      .then((res) => {\r\n        if (this.isAlreadyMounted) {\r\n          const mappedData = mapData(res.data.results);\r\n          this.setState({\r\n            movies: mappedData\r\n          });\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        if (this.isAlreadyMounted) {\r\n          console.log(error)\r\n          this.setState({\r\n            error: true,\r\n          });\r\n        }\r\n      });\r\n  }\r\n  onTermSubmit = (term) => {\r\n    movieApi.search(term)\r\n      .then(res => {\r\n        if (Object.entries(res.data).length) {\r\n          const mappedData = mapData(res.data.results);\r\n          this.setState({ movies: mappedData });\r\n        }\r\n      }\r\n      )\r\n      .catch(err => new Error('Error ' + err.message));\r\n  }\r\n  render() {\r\n    return (\r\n      <div className='ui container'>\r\n        <Header onTermSubmit={this.onTermSubmit} page='Home'/>\r\n        <MovieList movies={this.state.movies} />\r\n      </div>);\r\n  }\r\n}\r\n\r\nexport default Home; ","import React from 'react';\r\nimport movieApi from '../api/movieApi';\r\nimport './MovieDetail.css';\r\nimport Header from './Header';\r\n\r\n\r\nconst mapData = ({ cast = [], crew = [] }) => {\r\n    const castArray = [];\r\n    let director = '';\r\n    cast.forEach(member => {\r\n        castArray.push(member.name);\r\n    });\r\n    director = crew.find(member => member.job === 'Director').name;\r\n    return {\r\n        cast: castArray.join(', '),\r\n        director\r\n    }\r\n}\r\n\r\nclass MovieDetail extends React.Component {\r\n    state = {\r\n        movie: {},\r\n        cast: {}\r\n    };\r\n    componentDidMount() {\r\n        this.getMovieAndCredits();\r\n    }\r\n    componentDidUpdate(prevProps) {\r\n        if (this.props.match.params.id !== prevProps.match.params.id) {\r\n            this.getMovieAndCredits();\r\n        }\r\n    }\r\n    getMovieAndCredits() {\r\n        const { id } = this.props.match.params;\r\n        movieApi.getMovie(id).then(res =>\r\n            this.setState({ movie: res.data }));\r\n        movieApi.getMovieCredits(id)\r\n            .then((response) => {\r\n                this.setState({ cast: mapData(response.data) });\r\n            })\r\n            .catch((err) => {\r\n                throw Error(err.message);\r\n            });\r\n    }\r\n\r\n    render() {\r\n\r\n        const { original_title, release_date, overview, poster_path, vote_average } = this.state.movie;\r\n        const { cast, director } = this.state.cast;\r\n        return (\r\n            <div>\r\n\r\n                <Header page='details'/>\r\n   \r\n                <div className={Object.entries(this.state.movie).length ? \"ui items segment\" : \"ui loading segment\"}>\r\n                    <div className=\"item\">\r\n                        <div className=\"ui small image\">\r\n                            <img src={`http://image.tmdb.org/t/p/w185${poster_path}`} alt=\"image1\" />\r\n                        </div>\r\n                        <div className=\"content Details\">\r\n                            <span className=\"heading\">{original_title}</span>\r\n                            <span className=\"light\" >({vote_average}) </span>\r\n                            <div className=\"meta\">{new Date(release_date).getFullYear()} | {director}</div>\r\n                            <div className=\"description\">\r\n                                <label className=\"label\">Cast:</label>\r\n                                <p className=\"desc\">  {cast} </p><br />\r\n                                <label className=\"label\"> Description:</label>\r\n                                <p className=\"desc\">{overview}</p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default MovieDetail;\r\n","import React from 'react';\nimport { HashRouter, Switch, Route } from 'react-router-dom';\nimport Home from './components/Home';\nimport MovieDetail from './components/MovieDetail';\n\nconst App = () => (\n  <HashRouter>\n      <Switch>\n        <Route exact path='/' render={props => (\n            <Home {...props} />\n          )} />\n        <Route path='/details/:id' render={props => (\n            <MovieDetail {...props} />)} />\n      </Switch>\n  </HashRouter>\n);\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}