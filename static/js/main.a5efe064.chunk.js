(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{33:function(e,t,a){e.exports=a(63)},38:function(e,t,a){},39:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(28),i=a.n(c),o=(a(38),a(8)),s=a(6),l=a(10),m=a(11),u=a(13),d=a(12),v=a(14),p=(a(39),a(32)),h=function(e){var t=Object(n.useState)(""),a=Object(p.a)(t,2),c=a[0],i=a[1];return r.a.createElement("form",{className:"ui form head SearchBar",onSubmit:function(t){!function(t){t.preventDefault(),e.onTermSubmit(c)}(t)}},r.a.createElement("div",{className:"ui left icon input eight wide field "},r.a.createElement("i",{className:"search icon"}),r.a.createElement("input",{className:"inputField",type:"text",style:{backgroundColor:"#DFDFDF",paddingTop:"5px",paddingBottom:"5px"},value:c,onChange:function(e){i(e.target.value)}})))},f=function(e){return r.a.createElement("div",{className:"ui segment"},r.a.createElement("div",{class:"ui menu"},"details"===e.page?r.a.createElement("div",{className:"head"},"Movie Details "):r.a.createElement(h,{onTermSubmit:e.onTermSubmit}),r.a.createElement("div",{class:"right item"},r.a.createElement("div",{class:"ui action"},r.a.createElement(o.b,{to:"/",className:"btn btn-success"},r.a.createElement("i",{className:"home icon"}))))))},g=a(31),E=a.n(g),b="https://api.themoviedb.org/3",N="d943bbaf84c7c4a0f898e82204e8ca4c",M="movie/upcoming",w="search/movie",y="movie",S=function(e){var t=e.path,a=e.subpath,n=void 0===a?"":a,r=e.params,c=void 0===r?"":r,i="".concat(b,"/").concat(t).concat(n,"?api_key=").concat(N).concat(c);return E.a.get(i).then(function(e){return function(e){if(200!==e.status)throw Error(e.statusText);return e}(e)})},j={getUpcomingMovies:function(){return S({path:M})},getMovieCredits:function(e){var t={path:y,subpath:"/".concat(e,"/credits")};return S(t)},getMovie:function(e){var t={path:y,subpath:"/".concat(e)};return S(t)},search:function(e){var t={path:w,params:"&query=".concat(e)};return S(t)}},D=function(e){var t=e.movie;e.onMovieSelect;return r.a.createElement(o.b,{className:"ui card",to:"/details/".concat(t.id)},r.a.createElement("div",{className:"image"},r.a.createElement("img",{src:t.posterPath,alt:t.title})),r.a.createElement("div",{className:"extra"},r.a.createElement("span",{className:"left-floated header"},t.title),r.a.createElement("span",{className:"right floated"},t.rating)))},O=function(e){var t=e.movies,a=e.onMovieSelect,n=t.map(function(e){return r.a.createElement(D,{key:e.id,movie:e,onMovieSelect:a})});return r.a.createElement("div",{className:"ui five cards"},n)},k=function(e){var t=[];return e.forEach(function(e){t.push({id:e.id,title:e.original_title,rating:e.vote_average,posterPath:"http://image.tmdb.org/t/p/w185".concat(e.poster_path),description:e.overview?e.overview:null,releaseDate:e.release_date})}),t.sort(function(e,t){return t.releaseDate.localeCompare(e.releaseDate)})},C=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={movies:[]},a.getUpcomingMovies=function(){j.getUpcomingMovies().then(function(e){if(a.isAlreadyMounted){var t=k(e.data.results);a.setState({movies:t})}}).catch(function(e){a.isAlreadyMounted&&(console.log(e),a.setState({error:!0}))})},a.onTermSubmit=function(e){j.search(e).then(function(e){if(Object.entries(e.data).length){var t=k(e.data.results);a.setState({movies:t})}}).catch(function(e){return new Error("Error "+e.message)})},a}return Object(v.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.isAlreadyMounted=!0,this.getUpcomingMovies()}},{key:"render",value:function(){return r.a.createElement("div",{className:"ui container"},r.a.createElement(f,{onTermSubmit:this.onTermSubmit,page:"Home"}),r.a.createElement(O,{movies:this.state.movies}))}}]),t}(r.a.Component),_=(a(62),function(e){var t,a=e.cast,n=void 0===a?[]:a,r=e.crew,c=void 0===r?[]:r,i=[];return n.forEach(function(e){i.push(e.name)}),t=c.find(function(e){return"Director"===e.job}).name,{cast:i.join(", "),director:t}}),A=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={movie:{},cast:{}},a}return Object(v.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.getMovieAndCredits()}},{key:"componentDidUpdate",value:function(e){this.props.match.params.id!==e.match.params.id&&this.getMovieAndCredits()}},{key:"getMovieAndCredits",value:function(){var e=this,t=this.props.match.params.id;j.getMovie(t).then(function(t){return e.setState({movie:t.data})}),j.getMovieCredits(t).then(function(t){e.setState({cast:_(t.data)})}).catch(function(e){throw Error(e.message)})}},{key:"render",value:function(){var e=this.state.movie,t=e.original_title,a=e.release_date,n=e.overview,c=e.poster_path,i=e.vote_average,o=this.state.cast,s=o.cast,l=o.director;return r.a.createElement("div",null,r.a.createElement(f,{page:"details"}),r.a.createElement("div",{className:Object.entries(this.state.movie).length?"ui items segment":"ui loading segment"},r.a.createElement("div",{className:"item"},r.a.createElement("div",{className:"ui small image"},r.a.createElement("img",{src:"http://image.tmdb.org/t/p/w185".concat(c),alt:"image1"})),r.a.createElement("div",{className:"content Details"},r.a.createElement("span",{className:"heading"},t),r.a.createElement("span",{className:"light"},"(",i,") "),r.a.createElement("div",{className:"meta"},new Date(a).getFullYear()," | ",l),r.a.createElement("div",{className:"description"},r.a.createElement("label",{className:"label"},"Cast:"),r.a.createElement("p",{className:"desc"},"  ",s," "),r.a.createElement("br",null),r.a.createElement("label",{className:"label"}," Description:"),r.a.createElement("p",{className:"desc"},n))))))}}]),t}(r.a.Component),T=function(){return r.a.createElement(o.a,null,r.a.createElement(s.c,null,r.a.createElement(s.a,{exact:!0,path:"/",render:function(e){return r.a.createElement(C,e)}}),r.a.createElement(s.a,{path:"/details/:id",render:function(e){return r.a.createElement(A,e)}})))};i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(T,null)),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.a5efe064.chunk.js.map